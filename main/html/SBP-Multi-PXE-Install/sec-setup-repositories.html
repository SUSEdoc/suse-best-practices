<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting Up Repositories</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="How to Set Up a Multi-PXE Installation Server" /><link rel="up" href="index.html" title="How to Set Up a Multi-PXE Installation Server" /><link rel="prev" href="sec-setup-dhcp.html" title="Setting Up DHCP Services" /><link rel="next" href="sec-setup-tftp.html" title="Setting Up TFTP" /></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Setting Up Repositories</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-setup-dhcp.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="sec-setup-tftp.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec-setup-repositories"></a>Setting Up Repositories</h2></div></div></div><p>The next step is to create the installation source directories. Use a structure
            similar to <code class="filename">/srv/install/arch/product/version</code>.</p><pre class="screen">/srv/install/x86/sles12/sp2/cd1
/srv/install/armv8/sles12/sp2/cd1</pre><p>Now mount the install media into the appropriate location. Be sure to add it to
                <code class="filename">/etc/fstab</code> for persistence between reboots.</p><pre class="screen">mount -o loop, crossmnt /root/sles12sp2.iso /srv/install/x86/sles12/sp2/cd1/</pre><p>Do the same for each architecture’s boot media.</p><p>The final part of setting up the repositories is to export them. Although there are
            other supported methods such as HTTP, FTP, etc., use NFS for this scenario.  First,
            enable the NFS server through YaST and select <span class="strong"><strong>Open Port in
                Firewall</strong></span>.  In this instance, export the entire
                <code class="filename">/srv/install</code> structure as seen in the sample
                <code class="filename">/etc/exports</code> entry below.</p><pre class="screen">/srv/install  *(ro,root_squash,sync,no_subtree_check)</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-setup-dhcp.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="sec-setup-tftp.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Setting Up DHCP Services </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Setting Up TFTP</td></tr></table></div></body></html>
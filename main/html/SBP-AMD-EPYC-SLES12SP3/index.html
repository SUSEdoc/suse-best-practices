<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Optimizing Linux for AMD EPYC with SUSE Linux Enterprise 12 SP3</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><meta name="description" content="The document at hand provides an overview of the AMD* EPYC* architecture and how computational-intensive workloads can be tuned on SUSE Linux Enterprise Server 12 SP3. Disclaimer: Documents published as part of the SUSE Best Practices series have been contributed voluntarily by SUSE employees and third parties. They are meant to serve as examples of how particular actions can be performed. They have been compiled with utmost attention to detail. However, this does not guarantee complete accuracy. SUSE cannot verify that actions described in these documents do what is claimed or whether actions described have unintended consequences. SUSE LLC, its affiliates, the authors, and the translators may not be held liable for possible errors or the consequences thereof." /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="Optimizing Linux for AMD EPYC with SUSE Linux Enterprise 12 SP3" /><link rel="next" href="sec-epyc-architecture.html" title="EPYC Architecture" /></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Optimizing Linux for AMD EPYC with SUSE Linux Enterprise 12
      SP3</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="sec-epyc-architecture.html">Next</a></td></tr></table><hr /></div><div xml:lang="en" class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="art-sbp-amdepyc-sles12sp3"></a>Optimizing Linux for AMD EPYC with SUSE Linux Enterprise 12
      SP3</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Mel</span> <span class="surname">Gorman, Senior Kernel Engineer, SUSE</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Matt</span> <span class="surname">Fleming, Senior Performance Engineer, SUSE</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Dario</span> <span class="surname">Faggioli, Software Engineer Virtualization Specialist,
          SUSE</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Martin</span> <span class="surname">Jambor, Tool Chain Developer, SUSE</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Brent</span> <span class="surname">Hollingsworth, Alliance Manager, AMD</span></h3></div></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><p>The document at hand provides an overview of the AMD* EPYC*
        architecture and how computational-intensive workloads can be tuned
        on SUSE Linux Enterprise Server 12 SP3.</p><p>
        <span class="strong"><strong>Disclaimer: </strong></span>
        Documents published as part of the SUSE Best Practices series have been contributed voluntarily
        by SUSE employees and third parties. They are meant to serve as examples of how particular
        actions can be performed. They have been compiled with utmost attention to detail. However,
        this does not guarantee complete accuracy. SUSE cannot verify that actions described in these
        documents do what is claimed or whether actions described have unintended consequences.
        SUSE LLC, its affiliates, the authors, and the translators may not be held liable for possible errors
        or the consequences thereof.
      </p></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="index.html#sec-overview">Overview</a></span></dt><dt><span class="sect1"><a href="sec-epyc-architecture.html">EPYC Architecture</a></span></dt><dt><span class="sect1"><a href="sec-epyc-topology.html">EPYC Topology</a></span></dt><dt><span class="sect1"><a href="sec-memory-cpu-binding.html">Memory and CPU Binding</a></span></dt><dd><dl><dt><span class="sect2"><a href="sec-memory-cpu-binding.html#sec-tuning-without-binding">Tuning for Local Access Without Binding</a></span></dt><dt><span class="sect2"><a href="sec-memory-cpu-binding.html#sec-hazards-cpu-binding">Hazards with CPU Binding</a></span></dt><dt><span class="sect2"><a href="sec-memory-cpu-binding.html#sec-cpusets-memory-control-groups">CPUsets and Memory Control Groups</a></span></dt></dl></dd><dt><span class="sect1"><a href="sec-hp-storage-interrupt-affinity.html">High-performance Storage Devices and Interrupt Affinity</a></span></dt><dd><dl><dt><span class="sect2"><a href="sec-hp-storage-interrupt-affinity.html#sec-auto-numa-balancing">Automatic NUMA Balancing</a></span></dt></dl></dd><dt><span class="sect1"><a href="sec-evaluating-workloads.html">Evaluating Workloads</a></span></dt><dd><dl><dt><span class="sect2"><a href="sec-evaluating-workloads.html#sec-cpu-utilization-saturation">CPU Utilization and Saturation</a></span></dt><dt><span class="sect2"><a href="sec-evaluating-workloads.html#sec-transparent-huge-pages">Transparent Huge Pages</a></span></dt><dt><span class="sect2"><a href="sec-evaluating-workloads.html#sec-user-kernel-footprint">User/Kernel Footprint</a></span></dt><dt><span class="sect2"><a href="sec-evaluating-workloads.html#sec-memory-utilization-saturation">Memory Utilization and Saturation</a></span></dt><dt><span class="sect2"><a href="sec-evaluating-workloads.html#sec-other-resources">Other Resources</a></span></dt></dl></dd><dt><span class="sect1"><a href="sec-power-management.html">Power Management</a></span></dt><dt><span class="sect1"><a href="sec-security-mitigations.html">Security Mitigations</a></span></dt><dt><span class="sect1"><a href="sec-hw-based-profiling.html">Hardware-based Profiling</a></span></dt><dt><span class="sect1"><a href="sec-candidate-workloads.html">Candidate Workloads</a></span></dt><dd><dl><dt><span class="sect2"><a href="sec-candidate-workloads.html#sec-test-setup">Test Setup</a></span></dt><dt><span class="sect2"><a href="sec-candidate-workloads.html#sec-workload-stream">Test workload: STREAM</a></span></dt><dt><span class="sect2"><a href="sec-candidate-workloads.html#sec-workload-nasa">Test Workload: NASA Parallel Benchmark</a></span></dt></dl></dd><dt><span class="sect1"><a href="sec-amd-epyc-virtualization.html">Using AMD EPYC for Virtualization</a></span></dt><dd><dl><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-preparing-host-virtualization">Preparing the Host for Virtualization</a></span></dt><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-vm-types">Virtual Machine Types</a></span></dt><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-oversubscription-host">Oversubscription of Host Resources</a></span></dt><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-resource-allocation-tuning-host">Resource Allocation and Tuning of the Host</a></span></dt><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-resource-allocation-tuning-vms">Resource Allocation and Tuning of the VMs</a></span></dt><dt><span class="sect2"><a href="sec-amd-epyc-virtualization.html#sec-virtualization-test-workload-stream">Test Workload: STREAM</a></span></dt></dl></dd><dt><span class="sect1"><a href="sec-conclusion.html">Conclusion</a></span></dt><dt><span class="sect1"><a href="sec-resources.html">Resources</a></span></dt><dt><span class="sect1"><a href="sec-glossary-list.html">Glossary</a></span></dt><dt><span class="sect1"><a href="sec-appendix-a.html">Appendix A</a></span></dt><dt><span class="sect1"><a href="sec-legal-notice.html">Legal Notice</a></span></dt><dt><span class="sect1"><a href="ar01s17.html">Legal notice</a></span></dt><dt><span class="sect1"><a href="ar01s18.html">GNU Free Documentation License</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec-overview"></a>Overview</h2></div></div></div><p>EPYC is the latest generation of the AMD64 System-on-Chip (SoC)
      processor family. It is based on the Zen microarchitecture,
      introduced in 2017, and supports up to 32 cores (64 threads) and 8
      memory channels per socket. At the time of writing, 1-socket and
      2-socket models are available from Original Equipment Manufacturers
      (OEMs). This document provides an overview of the EPYC architecture
      and how computational-intensive workloads can be tuned on SUSE Linux
      Enterprise Server 12 SP3.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="sec-epyc-architecture.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> EPYC Architecture</td></tr></table></div></body></html>
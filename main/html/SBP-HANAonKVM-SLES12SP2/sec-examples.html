<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Examples</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="SUSE Best Practices for SAP HANA on KVM" /><link rel="up" href="index.html" title="SUSE Best Practices for SAP HANA on KVM" /><link rel="prev" href="sec-administration.html" title="Administration" /><link rel="next" href="sec-additional-information.html" title="Additional Information" /></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Examples</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-administration.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="sec-additional-information.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec-examples"></a>Examples</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="sec-example-lscpu-from-a-lenovo-x3850-x6"></a>Example <span class="quote">“<span class="quote">lscpu</span>”</span> from a Lenovo x3850 x6</h3></div></div></div><pre class="screen"># lscpu
Architecture:          x86_64
CPU op-mode(s):        32-bit, 64-bit
Byte Order:            Little Endian
CPU(s):                144
On-line CPU(s) list:   0-143
Thread(s) per core:    2
Core(s) per socket:    18
Socket(s):             4
NUMA node(s):          4
Vendor ID:             GenuineIntel
CPU family:            6
Model:                 63
Model name:            Intel(R) Xeon(R) CPU E7-8880 v3 @ 2.30GHz
Stepping:              4
CPU MHz:               2700.000
CPU max MHz:           3100.0000
CPU min MHz:           1200.0000
BogoMIPS:              4589.07
Virtualization:        VT-x
L1d cache:             32K
L1i cache:             32K
L2 cache:              256K
L3 cache:              46080K
NUMA node0 CPU(s):     0-17,72-89
NUMA node1 CPU(s):     18-35,90-107
NUMA node2 CPU(s):     36-53,108-125
NUMA node3 CPU(s):     54-71,126-143
Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu mce_recovery pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm ida arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm xsaveopt cqm_llc cqm_occup_llc</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="sec-lscpu-extended-example"></a>Example <span class="quote">“<span class="quote">lscpu --extended=CPU,SOCKET,CORE</span>”</span> from a Lenovo x3850 x6</h3></div></div></div><pre class="screen">#  lscpu --extended=CPU,SOCKET,CORE
CPU SOCKET CORE
0   0      0
1   0      1
2   0      2
3   0      3
4   0      4
5   0      5
6   0      6
7   0      7
8   0      8
9   0      9
10  0      10
11  0      11
12  0      12
13  0      13
14  0      14
15  0      15
16  0      16
17  0      17
18  1      18
19  1      19
20  1      20
21  1      21
22  1      22
23  1      23
24  1      24
25  1      25
26  1      26
27  1      27
28  1      28
29  1      29
30  1      30
31  1      31
32  1      32
33  1      33
34  1      34
35  1      35
36  2      36
37  2      37
38  2      38
39  2      39
40  2      40
41  2      41
42  2      42
43  2      43
44  2      44
45  2      45
46  2      46
47  2      47
48  2      48
49  2      49
50  2      50
51  2      51
52  2      52
53  2      53
54  3      54
55  3      55
56  3      56
57  3      57
58  3      58
59  3      59
60  3      60
61  3      61
62  3      62
63  3      63
64  3      64
65  3      65
66  3      66
67  3      67
68  3      68
69  3      69
70  3      70
71  3      71
72  0      0
73  0      1
74  0      2
75  0      3
76  0      4
77  0      5
78  0      6
79  0      7
80  0      8
81  0      9
82  0      10
83  0      11
84  0      12
85  0      13
86  0      14
87  0      15
88  0      16
89  0      17
90  1      18
91  1      19
92  1      20
93  1      21
94  1      22
95  1      23
96  1      24
97  1      25
98  1      26
99  1      27
100 1      28
101 1      29
102 1      30
103 1      31
104 1      32
105 1      33
106 1      34
107 1      35
108 2      36
109 2      37
110 2      38
111 2      39
112 2      40
113 2      41
114 2      42
115 2      43
116 2      44
117 2      45
118 2      46
119 2      47
120 2      48
121 2      49
122 2      50
123 2      51
124 2      52
125 2      53
126 3      54
127 3      55
128 3      56
129 3      57
130 3      58
131 3      59
132 3      60
133 3      61
134 3      62
135 3      63
136 3      64
137 3      65
138 3      66
139 3      67
140 3      68
141 3      69
142 3      70
143 3      71</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="sec-example-lstopo"></a>Example <span class="quote">“<span class="quote">lstopo-no-graphics</span>”</span> from a Lenovo x3850 x6</h3></div></div></div><pre class="screen"># lstopo-no-graphics
Machine (504GB total)
  NUMANode L#0 (P#0 126GB)
    Package L#0 + L3 L#0 (45MB)
      L2 L#0 (256KB) + L1d L#0 (32KB) + L1i L#0 (32KB) + Core L#0
        PU L#0 (P#0)
        PU L#1 (P#72)
      L2 L#1 (256KB) + L1d L#1 (32KB) + L1i L#1 (32KB) + Core L#1
        PU L#2 (P#1)
        PU L#3 (P#73)
      L2 L#2 (256KB) + L1d L#2 (32KB) + L1i L#2 (32KB) + Core L#2
        PU L#4 (P#2)
        PU L#5 (P#74)
      L2 L#3 (256KB) + L1d L#3 (32KB) + L1i L#3 (32KB) + Core L#3
        PU L#6 (P#3)
        PU L#7 (P#75)
      L2 L#4 (256KB) + L1d L#4 (32KB) + L1i L#4 (32KB) + Core L#4
        PU L#8 (P#4)
        PU L#9 (P#76)
      L2 L#5 (256KB) + L1d L#5 (32KB) + L1i L#5 (32KB) + Core L#5
        PU L#10 (P#5)
        PU L#11 (P#77)
      L2 L#6 (256KB) + L1d L#6 (32KB) + L1i L#6 (32KB) + Core L#6
        PU L#12 (P#6)
        PU L#13 (P#78)
      L2 L#7 (256KB) + L1d L#7 (32KB) + L1i L#7 (32KB) + Core L#7
        PU L#14 (P#7)
        PU L#15 (P#79)
      L2 L#8 (256KB) + L1d L#8 (32KB) + L1i L#8 (32KB) + Core L#8
        PU L#16 (P#8)
        PU L#17 (P#80)
      L2 L#9 (256KB) + L1d L#9 (32KB) + L1i L#9 (32KB) + Core L#9
        PU L#18 (P#9)
        PU L#19 (P#81)
      L2 L#10 (256KB) + L1d L#10 (32KB) + L1i L#10 (32KB) + Core L#10
        PU L#20 (P#10)
        PU L#21 (P#82)
      L2 L#11 (256KB) + L1d L#11 (32KB) + L1i L#11 (32KB) + Core L#11
        PU L#22 (P#11)
        PU L#23 (P#83)
      L2 L#12 (256KB) + L1d L#12 (32KB) + L1i L#12 (32KB) + Core L#12
        PU L#24 (P#12)
        PU L#25 (P#84)
      L2 L#13 (256KB) + L1d L#13 (32KB) + L1i L#13 (32KB) + Core L#13
        PU L#26 (P#13)
        PU L#27 (P#85)
      L2 L#14 (256KB) + L1d L#14 (32KB) + L1i L#14 (32KB) + Core L#14
        PU L#28 (P#14)
        PU L#29 (P#86)
      L2 L#15 (256KB) + L1d L#15 (32KB) + L1i L#15 (32KB) + Core L#15
        PU L#30 (P#15)
        PU L#31 (P#87)
      L2 L#16 (256KB) + L1d L#16 (32KB) + L1i L#16 (32KB) + Core L#16
        PU L#32 (P#16)
        PU L#33 (P#88)
      L2 L#17 (256KB) + L1d L#17 (32KB) + L1i L#17 (32KB) + Core L#17
        PU L#34 (P#17)
        PU L#35 (P#89)
    HostBridge L#0
      PCIBridge
        PCI 8086:1521
          Net L#0 "eth0"
        PCI 8086:1521
          Net L#1 "eth1"
        PCI 8086:1521
          Net L#2 "eth2"
        PCI 8086:1521
          Net L#3 "eth3"
  NUMANode L#1 (P#1 126GB)
    Package L#1 + L3 L#1 (45MB)
      L2 L#18 (256KB) + L1d L#18 (32KB) + L1i L#18 (32KB) + Core L#18
        PU L#36 (P#18)
        PU L#37 (P#90)
      L2 L#19 (256KB) + L1d L#19 (32KB) + L1i L#19 (32KB) + Core L#19
        PU L#38 (P#19)
        PU L#39 (P#91)
      L2 L#20 (256KB) + L1d L#20 (32KB) + L1i L#20 (32KB) + Core L#20
        PU L#40 (P#20)
        PU L#41 (P#92)
      L2 L#21 (256KB) + L1d L#21 (32KB) + L1i L#21 (32KB) + Core L#21
        PU L#42 (P#21)
        PU L#43 (P#93)
      L2 L#22 (256KB) + L1d L#22 (32KB) + L1i L#22 (32KB) + Core L#22
        PU L#44 (P#22)
        PU L#45 (P#94)
      L2 L#23 (256KB) + L1d L#23 (32KB) + L1i L#23 (32KB) + Core L#23
        PU L#46 (P#23)
        PU L#47 (P#95)
      L2 L#24 (256KB) + L1d L#24 (32KB) + L1i L#24 (32KB) + Core L#24
        PU L#48 (P#24)
        PU L#49 (P#96)
      L2 L#25 (256KB) + L1d L#25 (32KB) + L1i L#25 (32KB) + Core L#25
        PU L#50 (P#25)
        PU L#51 (P#97)
      L2 L#26 (256KB) + L1d L#26 (32KB) + L1i L#26 (32KB) + Core L#26
        PU L#52 (P#26)
        PU L#53 (P#98)
      L2 L#27 (256KB) + L1d L#27 (32KB) + L1i L#27 (32KB) + Core L#27
        PU L#54 (P#27)
        PU L#55 (P#99)
      L2 L#28 (256KB) + L1d L#28 (32KB) + L1i L#28 (32KB) + Core L#28
        PU L#56 (P#28)
        PU L#57 (P#100)
      L2 L#29 (256KB) + L1d L#29 (32KB) + L1i L#29 (32KB) + Core L#29
        PU L#58 (P#29)
        PU L#59 (P#101)
      L2 L#30 (256KB) + L1d L#30 (32KB) + L1i L#30 (32KB) + Core L#30
        PU L#60 (P#30)
        PU L#61 (P#102)
      L2 L#31 (256KB) + L1d L#31 (32KB) + L1i L#31 (32KB) + Core L#31
        PU L#62 (P#31)
        PU L#63 (P#103)
      L2 L#32 (256KB) + L1d L#32 (32KB) + L1i L#32 (32KB) + Core L#32
        PU L#64 (P#32)
        PU L#65 (P#104)
      L2 L#33 (256KB) + L1d L#33 (32KB) + L1i L#33 (32KB) + Core L#33
        PU L#66 (P#33)
        PU L#67 (P#105)
      L2 L#34 (256KB) + L1d L#34 (32KB) + L1i L#34 (32KB) + Core L#34
        PU L#68 (P#34)
        PU L#69 (P#106)
      L2 L#35 (256KB) + L1d L#35 (32KB) + L1i L#35 (32KB) + Core L#35
        PU L#70 (P#35)
        PU L#71 (P#107)
    HostBridge L#7
    PCIBridge
      PCI 1000:005d
        Block(Disk) L#4 "sda"
        Block(Disk) L#5 "sdb"
        Block(Disk) L#6 "sdc"
        Block(Disk) L#7 "sdd"
        Block(Disk) L#8 "sde"
    NUMANode L#2 (P#2 126GB) + Package L#2 + L3 L#2 (45MB)
    L2 L#36 (256KB) + L1d L#36 (32KB) + L1i L#36 (32KB) + Core L#36
      PU L#72 (P#36)
      PU L#73 (P#108)
    L2 L#37 (256KB) + L1d L#37 (32KB) + L1i L#37 (32KB) + Core L#37
      PU L#74 (P#37)
      PU L#75 (P#109)
    L2 L#38 (256KB) + L1d L#38 (32KB) + L1i L#38 (32KB) + Core L#38
      PU L#76 (P#38)
      PU L#77 (P#110)
    L2 L#39 (256KB) + L1d L#39 (32KB) + L1i L#39 (32KB) + Core L#39
      PU L#78 (P#39)
      PU L#79 (P#111)
    L2 L#40 (256KB) + L1d L#40 (32KB) + L1i L#40 (32KB) + Core L#40
      PU L#80 (P#40)
      PU L#81 (P#112)
    L2 L#41 (256KB) + L1d L#41 (32KB) + L1i L#41 (32KB) + Core L#41
      PU L#82 (P#41)
      PU L#83 (P#113)
    L2 L#42 (256KB) + L1d L#42 (32KB) + L1i L#42 (32KB) + Core L#42
      PU L#84 (P#42)
      PU L#85 (P#114)
    L2 L#43 (256KB) + L1d L#43 (32KB) + L1i L#43 (32KB) + Core L#43
      PU L#86 (P#43)
      PU L#87 (P#115)
    L2 L#44 (256KB) + L1d L#44 (32KB) + L1i L#44 (32KB) + Core L#44
      PU L#88 (P#44)
      PU L#89 (P#116)
    L2 L#45 (256KB) + L1d L#45 (32KB) + L1i L#45 (32KB) + Core L#45
      PU L#90 (P#45)
      PU L#91 (P#117)
    L2 L#46 (256KB) + L1d L#46 (32KB) + L1i L#46 (32KB) + Core L#46
      PU L#92 (P#46)
      PU L#93 (P#118)
    L2 L#47 (256KB) + L1d L#47 (32KB) + L1i L#47 (32KB) + Core L#47
      PU L#94 (P#47)
      PU L#95 (P#119)
    L2 L#48 (256KB) + L1d L#48 (32KB) + L1i L#48 (32KB) + Core L#48
      PU L#96 (P#48)
      PU L#97 (P#120)
    L2 L#49 (256KB) + L1d L#49 (32KB) + L1i L#49 (32KB) + Core L#49
      PU L#98 (P#49)
      PU L#99 (P#121)
    L2 L#50 (256KB) + L1d L#50 (32KB) + L1i L#50 (32KB) + Core L#50
      PU L#100 (P#50)
      PU L#101 (P#122)
    L2 L#51 (256KB) + L1d L#51 (32KB) + L1i L#51 (32KB) + Core L#51
      PU L#102 (P#51)
      PU L#103 (P#123)
    L2 L#52 (256KB) + L1d L#52 (32KB) + L1i L#52 (32KB) + Core L#52
      PU L#104 (P#52)
      PU L#105 (P#124)
    L2 L#53 (256KB) + L1d L#53 (32KB) + L1i L#53 (32KB) + Core L#53
      PU L#106 (P#53)
      PU L#107 (P#125)
    PCIBridge
      PCI 1000:005d
        Block(Disk) L#9 "sdf"
        Block(Disk) L#10 "sdg"
        Block(Disk) L#11 "sdh"
        Block(Disk) L#12 "sdi"
    NUMANode L#3 (P#3 126GB) + Package L#3 + L3 L#3 (45MB)
      L2 L#54 (256KB) + L1d L#54 (32KB) + L1i L#54 (32KB) + Core L#54
        PU L#108 (P#54)
        PU L#109 (P#126)
      L2 L#55 (256KB) + L1d L#55 (32KB) + L1i L#55 (32KB) + Core L#55
        PU L#110 (P#55)
        PU L#111 (P#127)
      L2 L#56 (256KB) + L1d L#56 (32KB) + L1i L#56 (32KB) + Core L#56
        PU L#112 (P#56)
        PU L#113 (P#128)
      L2 L#57 (256KB) + L1d L#57 (32KB) + L1i L#57 (32KB) + Core L#57
        PU L#114 (P#57)
        PU L#115 (P#129)
      L2 L#58 (256KB) + L1d L#58 (32KB) + L1i L#58 (32KB) + Core L#58
        PU L#116 (P#58)
        PU L#117 (P#130)
      L2 L#59 (256KB) + L1d L#59 (32KB) + L1i L#59 (32KB) + Core L#59
        PU L#118 (P#59)
        PU L#119 (P#131)
      L2 L#60 (256KB) + L1d L#60 (32KB) + L1i L#60 (32KB) + Core L#60
        PU L#120 (P#60)
        PU L#121 (P#132)
      L2 L#61 (256KB) + L1d L#61 (32KB) + L1i L#61 (32KB) + Core L#61
        PU L#122 (P#61)
        PU L#123 (P#133)
      L2 L#62 (256KB) + L1d L#62 (32KB) + L1i L#62 (32KB) + Core L#62
        PU L#124 (P#62)
        PU L#125 (P#134)
      L2 L#63 (256KB) + L1d L#63 (32KB) + L1i L#63 (32KB) + Core L#63
        PU L#126 (P#63)
        PU L#127 (P#135)
      L2 L#64 (256KB) + L1d L#64 (32KB) + L1i L#64 (32KB) + Core L#64
        PU L#128 (P#64)
        PU L#129 (P#136)
      L2 L#65 (256KB) + L1d L#65 (32KB) + L1i L#65 (32KB) + Core L#65
        PU L#130 (P#65)
        PU L#131 (P#137)
      L2 L#66 (256KB) + L1d L#66 (32KB) + L1i L#66 (32KB) + Core L#66
        PU L#132 (P#66)
        PU L#133 (P#138)
      L2 L#67 (256KB) + L1d L#67 (32KB) + L1i L#67 (32KB) + Core L#67
        PU L#134 (P#67)
        PU L#135 (P#139)
      L2 L#68 (256KB) + L1d L#68 (32KB) + L1i L#68 (32KB) + Core L#68
        PU L#136 (P#68)
        PU L#137 (P#140)
      L2 L#69 (256KB) + L1d L#69 (32KB) + L1i L#69 (32KB) + Core L#69
        PU L#138 (P#69)
        PU L#139 (P#141)
      L2 L#70 (256KB) + L1d L#70 (32KB) + L1i L#70 (32KB) + Core L#70
        PU L#140 (P#70)
        PU L#141 (P#142)
      L2 L#71 (256KB) + L1d L#71 (32KB) + L1i L#71 (32KB) + Core L#71
        PU L#142 (P#71)
        PU L#143 (P#143)</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="sec-example-guest-vm-xml-based-on-the-example-lenovo-x3850-x6-above"></a>Example Guest VM XML Based on the Example Lenovo x3850 x6 Above</h3></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">XML Configuration Example</h3><p>The XML file below is only an <span class="strong"><strong>example</strong></span> showing the
          key configurations based on the about command outputs to assist in understanding how to
          configure the XML. The actual XML configuration must be based on your respective hardware
          configuration and VM requirements.</p></div><p>Points of interest in this example (refer to the detailed sections of SUSE Best
        Practices for SAP HANA on KVM - SUSE Linux Enterprise Server for SAP Applications 12 SP2 for
        a full explanation):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Memory</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>The Hypervisor has 512 GiB RAM, of which 488 GiB has been
                allocated as 1 GB Hugepages and therefore 488 GiB is the max VM
                size in this case</p></li><li class="listitem"><p>488 GiB = 511705088 KiB</p></li><li class="listitem"><p>In the <span class="quote">“<span class="quote">numa</span>”</span> section memory is split evenly over the 4 NUMA nodes
                (CPU sockets)</p></li></ul></div></li><li class="listitem"><p>CPU Pinning</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Note the alternating CPU pinning on the Hypervisor, see <a class="xref" href="sec-Guest-VM-XML-Configuration.html#sec-vCPU-and-vNUMA-Topology" title="vCPU and vNUMA Topology">the section called “vCPU and vNUMA Topology”</a> section for details</p></li><li class="listitem"><p>Note the topology difference between the Guest VM (4x17 CPU cores) the
                Hypervisor (4x18 CPU cores)</p></li><li class="listitem"><p>Referring to the <a class="xref" href="sec-examples.html#sec-example-lstopo" title="Example “lstopo-no-graphics” from a Lenovo x3850 x6">the section called “Example <span class="quote">“<span class="quote">lstopo-no-graphics</span>”</span> from a Lenovo x3850 x6”</a> output we know that the
                disks are attached via CPU sockets 1 and 2, therefore the iothreads are pinned (see
                vcpupin) to logical CPUs on those sockets</p></li></ul></div></li><li class="listitem"><p>Storage/IO</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Storage is configured with virtio and the block devices for SAP HANA are spread
                evenly across the iothreads</p></li><li class="listitem"><p>Source devices use persistent multipath addresses</p></li><li class="listitem"><p>Type is set to raw, and cache=none</p></li><li class="listitem"><p>See <a class="xref" href="sec-Guest-VM-XML-Configuration.html#sec-storage" title="Storage">the section called “Storage”</a> section for details</p></li></ul></div></li><li class="listitem"><p><span class="quote">“<span class="quote"> rng model='virtio' </span>”</span>, for details see section <a class="xref" href="sec-Guest-VM-XML-Configuration.html#sec-virtio-rng" title="Virtio Random Number Generator (RNG) Device">the section called “Virtio Random Number Generator (RNG) Device”</a></p></li><li class="listitem"><p>qemu:commandline elements to describe CPU attributes, for details see section <a class="xref" href="sec-Guest-VM-XML-Configuration.html#sec-global-vcpu-configuration" title="Global vCPU Configuration">the section called “Global vCPU Configuration”</a></p></li></ul></div><pre class="screen"># cat /etc/libvirt/qemu/SUSEKVM.xml
&lt;!--
WARNING: THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE
OVERWRITTEN AND LOST. Changes to this xml configuration should be made using:
  virsh edit SUSEKVM
or other application using the libvirt API.
--&gt;

&lt;domain type='kvm' xmlns:qemu='http://libvirt.org/schemas/domain/qemu/1.0'&gt;
  &lt;name&gt;SUSEKVM&lt;/name&gt;
  &lt;uuid&gt;39112135-9cee-4a5e-b36b-eba8757d666e&lt;/uuid&gt;
  &lt;memory unit='KiB'&gt;511705088&lt;/memory&gt;
  &lt;currentMemory unit='KiB'&gt;511705088&lt;/currentMemory&gt;
  &lt;memoryBacking&gt;
    &lt;hugepages/&gt;
      &lt;page size='1048576' unit='KiB'/&gt;
    &lt;nosharepages/&gt;
  &lt;/memoryBacking&gt;
  &lt;vcpu placement='static'&gt;136&lt;/vcpu&gt;
  &lt;iothreads&gt;5&lt;/iothreads&gt;
  &lt;cputune&gt;
    &lt;vcpupin vcpu='0' cpuset='1'/&gt;
    &lt;vcpupin vcpu='1' cpuset='73'/&gt;
    &lt;vcpupin vcpu='2' cpuset='2'/&gt;
    &lt;vcpupin vcpu='3' cpuset='74'/&gt;
    &lt;vcpupin vcpu='4' cpuset='3'/&gt;
    &lt;vcpupin vcpu='5' cpuset='75'/&gt;
    &lt;vcpupin vcpu='6' cpuset='4'/&gt;
    &lt;vcpupin vcpu='7' cpuset='76'/&gt;
    &lt;vcpupin vcpu='8' cpuset='5'/&gt;
    &lt;vcpupin vcpu='9' cpuset='77'/&gt;
    &lt;vcpupin vcpu='10' cpuset='6'/&gt;
    &lt;vcpupin vcpu='11' cpuset='78'/&gt;
    &lt;vcpupin vcpu='12' cpuset='7'/&gt;
    &lt;vcpupin vcpu='13' cpuset='79'/&gt;
    &lt;vcpupin vcpu='14' cpuset='8'/&gt;
    &lt;vcpupin vcpu='15' cpuset='80'/&gt;
    &lt;vcpupin vcpu='16' cpuset='9'/&gt;
    &lt;vcpupin vcpu='17' cpuset='81'/&gt;
    &lt;vcpupin vcpu='18' cpuset='10'/&gt;
    &lt;vcpupin vcpu='19' cpuset='82'/&gt;
    &lt;vcpupin vcpu='20' cpuset='11'/&gt;
    &lt;vcpupin vcpu='21' cpuset='83'/&gt;
    &lt;vcpupin vcpu='22' cpuset='12'/&gt;
    &lt;vcpupin vcpu='23' cpuset='84'/&gt;
    &lt;vcpupin vcpu='24' cpuset='13'/&gt;
    &lt;vcpupin vcpu='25' cpuset='85'/&gt;
    &lt;vcpupin vcpu='26' cpuset='14'/&gt;
    &lt;vcpupin vcpu='27' cpuset='86'/&gt;
    &lt;vcpupin vcpu='28' cpuset='15'/&gt;
    &lt;vcpupin vcpu='29' cpuset='87'/&gt;
    &lt;vcpupin vcpu='30' cpuset='16'/&gt;
    &lt;vcpupin vcpu='31' cpuset='88'/&gt;
    &lt;vcpupin vcpu='32' cpuset='17'/&gt;
    &lt;vcpupin vcpu='33' cpuset='89'/&gt;
    &lt;vcpupin vcpu='34' cpuset='19'/&gt;
    &lt;vcpupin vcpu='35' cpuset='91'/&gt;
    &lt;vcpupin vcpu='36' cpuset='20'/&gt;
    &lt;vcpupin vcpu='37' cpuset='92'/&gt;
    &lt;vcpupin vcpu='38' cpuset='21'/&gt;
    &lt;vcpupin vcpu='39' cpuset='93'/&gt;
    &lt;vcpupin vcpu='40' cpuset='22'/&gt;
    &lt;vcpupin vcpu='41' cpuset='94'/&gt;
    &lt;vcpupin vcpu='42' cpuset='23'/&gt;
    &lt;vcpupin vcpu='43' cpuset='95'/&gt;
    &lt;vcpupin vcpu='44' cpuset='24'/&gt;
    &lt;vcpupin vcpu='45' cpuset='96'/&gt;
    &lt;vcpupin vcpu='46' cpuset='25'/&gt;
    &lt;vcpupin vcpu='47' cpuset='97'/&gt;
    &lt;vcpupin vcpu='48' cpuset='26'/&gt;
    &lt;vcpupin vcpu='49' cpuset='98'/&gt;
    &lt;vcpupin vcpu='50' cpuset='27'/&gt;
    &lt;vcpupin vcpu='51' cpuset='99'/&gt;
    &lt;vcpupin vcpu='52' cpuset='28'/&gt;
    &lt;vcpupin vcpu='53' cpuset='100'/&gt;
    &lt;vcpupin vcpu='54' cpuset='29'/&gt;
    &lt;vcpupin vcpu='55' cpuset='101'/&gt;
    &lt;vcpupin vcpu='56' cpuset='30'/&gt;
    &lt;vcpupin vcpu='57' cpuset='102'/&gt;
    &lt;vcpupin vcpu='58' cpuset='31'/&gt;
    &lt;vcpupin vcpu='59' cpuset='103'/&gt;
    &lt;vcpupin vcpu='60' cpuset='32'/&gt;
    &lt;vcpupin vcpu='61' cpuset='104'/&gt;
    &lt;vcpupin vcpu='62' cpuset='33'/&gt;
    &lt;vcpupin vcpu='63' cpuset='105'/&gt;
    &lt;vcpupin vcpu='64' cpuset='34'/&gt;
    &lt;vcpupin vcpu='65' cpuset='106'/&gt;
    &lt;vcpupin vcpu='66' cpuset='35'/&gt;
    &lt;vcpupin vcpu='67' cpuset='107'/&gt;
    &lt;vcpupin vcpu='68' cpuset='37'/&gt;
    &lt;vcpupin vcpu='69' cpuset='109'/&gt;
    &lt;vcpupin vcpu='70' cpuset='38'/&gt;
    &lt;vcpupin vcpu='71' cpuset='110'/&gt;
    &lt;vcpupin vcpu='72' cpuset='39'/&gt;
    &lt;vcpupin vcpu='73' cpuset='111'/&gt;
    &lt;vcpupin vcpu='74' cpuset='40'/&gt;
    &lt;vcpupin vcpu='75' cpuset='112'/&gt;
    &lt;vcpupin vcpu='76' cpuset='41'/&gt;
    &lt;vcpupin vcpu='77' cpuset='113'/&gt;
    &lt;vcpupin vcpu='78' cpuset='42'/&gt;
    &lt;vcpupin vcpu='79' cpuset='114'/&gt;
    &lt;vcpupin vcpu='80' cpuset='43'/&gt;
    &lt;vcpupin vcpu='81' cpuset='115'/&gt;
    &lt;vcpupin vcpu='82' cpuset='44'/&gt;
    &lt;vcpupin vcpu='83' cpuset='116'/&gt;
    &lt;vcpupin vcpu='84' cpuset='45'/&gt;
    &lt;vcpupin vcpu='85' cpuset='117'/&gt;
    &lt;vcpupin vcpu='86' cpuset='46'/&gt;
    &lt;vcpupin vcpu='87' cpuset='118'/&gt;
    &lt;vcpupin vcpu='88' cpuset='47'/&gt;
    &lt;vcpupin vcpu='89' cpuset='119'/&gt;
    &lt;vcpupin vcpu='90' cpuset='48'/&gt;
    &lt;vcpupin vcpu='91' cpuset='120'/&gt;
    &lt;vcpupin vcpu='92' cpuset='49'/&gt;
    &lt;vcpupin vcpu='93' cpuset='121'/&gt;
    &lt;vcpupin vcpu='94' cpuset='50'/&gt;
    &lt;vcpupin vcpu='95' cpuset='122'/&gt;
    &lt;vcpupin vcpu='96' cpuset='51'/&gt;
    &lt;vcpupin vcpu='97' cpuset='123'/&gt;
    &lt;vcpupin vcpu='98' cpuset='52'/&gt;
    &lt;vcpupin vcpu='99' cpuset='124'/&gt;
    &lt;vcpupin vcpu='100' cpuset='53'/&gt;
    &lt;vcpupin vcpu='101' cpuset='125'/&gt;
    &lt;vcpupin vcpu='102' cpuset='55'/&gt;
    &lt;vcpupin vcpu='103' cpuset='127'/&gt;
    &lt;vcpupin vcpu='104' cpuset='56'/&gt;
    &lt;vcpupin vcpu='105' cpuset='128'/&gt;
    &lt;vcpupin vcpu='106' cpuset='57'/&gt;
    &lt;vcpupin vcpu='107' cpuset='129'/&gt;
    &lt;vcpupin vcpu='108' cpuset='58'/&gt;
    &lt;vcpupin vcpu='109' cpuset='130'/&gt;
    &lt;vcpupin vcpu='110' cpuset='59'/&gt;
    &lt;vcpupin vcpu='111' cpuset='131'/&gt;
    &lt;vcpupin vcpu='112' cpuset='60'/&gt;
    &lt;vcpupin vcpu='113' cpuset='132'/&gt;
    &lt;vcpupin vcpu='114' cpuset='61'/&gt;
    &lt;vcpupin vcpu='115' cpuset='133'/&gt;
    &lt;vcpupin vcpu='116' cpuset='62'/&gt;
    &lt;vcpupin vcpu='117' cpuset='134'/&gt;
    &lt;vcpupin vcpu='118' cpuset='63'/&gt;
    &lt;vcpupin vcpu='119' cpuset='135'/&gt;
    &lt;vcpupin vcpu='120' cpuset='64'/&gt;
    &lt;vcpupin vcpu='121' cpuset='136'/&gt;
    &lt;vcpupin vcpu='122' cpuset='65'/&gt;
    &lt;vcpupin vcpu='123' cpuset='137'/&gt;
    &lt;vcpupin vcpu='124' cpuset='66'/&gt;
    &lt;vcpupin vcpu='125' cpuset='138'/&gt;
    &lt;vcpupin vcpu='126' cpuset='67'/&gt;
    &lt;vcpupin vcpu='127' cpuset='139'/&gt;
    &lt;vcpupin vcpu='128' cpuset='68'/&gt;
    &lt;vcpupin vcpu='129' cpuset='140'/&gt;
    &lt;vcpupin vcpu='130' cpuset='69'/&gt;
    &lt;vcpupin vcpu='131' cpuset='141'/&gt;
    &lt;vcpupin vcpu='132' cpuset='70'/&gt;
    &lt;vcpupin vcpu='133' cpuset='142'/&gt;
    &lt;vcpupin vcpu='134' cpuset='71'/&gt;
    &lt;vcpupin vcpu='135' cpuset='143'/&gt;
    &lt;emulatorpin cpuset='0,54'/&gt;
    &lt;iothreadpin iothread='1' cpuset='72'/&gt;
    &lt;iothreadpin iothread='2' cpuset='18'/&gt;
    &lt;iothreadpin iothread='3' cpuset='36'/&gt;
    &lt;iothreadpin iothread='4' cpuset='90'/&gt;
    &lt;iothreadpin iothread='5' cpuset='108'/&gt;
  &lt;/cputune&gt;
  &lt;numatune&gt;
    &lt;memory mode='strict' nodeset='0-3'/&gt;
    &lt;memnode cellid='0' mode='strict' nodeset='0'/&gt;
    &lt;memnode cellid='1' mode='strict' nodeset='1'/&gt;
    &lt;memnode cellid='2' mode='strict' nodeset='2'/&gt;
    &lt;memnode cellid='3' mode='strict' nodeset='3'/&gt;
  &lt;/numatune&gt;
  &lt;os&gt;
    &lt;type arch='x86_64' machine='pc-i440fx-2.6'&gt;hvm&lt;/type&gt;
    &lt;boot dev='hd'/&gt;
  &lt;/os&gt;
  &lt;features&gt;
    &lt;acpi/&gt;
    &lt;apic/&gt;
    &lt;vmport state='off'/&gt;
  &lt;/features&gt;
  &lt;cpu mode='host-passthrough'&gt;
    &lt;topology sockets='4' cores='17' threads='2'/&gt;
    &lt;numa&gt;
      &lt;cell id='0' cpus='0-33' memory='127926272' unit='KiB'/&gt;
      &lt;cell id='1' cpus='34-66' memory='127926272' unit='KiB'/&gt;
      &lt;cell id='2' cpus='67-101' memory='127926272' unit='KiB'/&gt;
      &lt;cell id='3' cpus='102-135' memory='127926272' unit='KiB'/&gt;
    &lt;/numa&gt;
  &lt;/cpu&gt;
  &lt;clock offset='utc'&gt;
    &lt;timer name='rtc' tickpolicy='catchup'/&gt;
    &lt;timer name='pit' tickpolicy='delay'/&gt;
    &lt;timer name='hpet' present='no'/&gt;
  &lt;/clock&gt;
  &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;
  &lt;on_reboot&gt;restart&lt;/on_reboot&gt;
  &lt;on_crash&gt;restart&lt;/on_crash&gt;
  &lt;pm&gt;
    &lt;suspend-to-mem enabled='no'/&gt;
    &lt;suspend-to-disk enabled='no'/&gt;
  &lt;/pm&gt;
  &lt;devices&gt;
    &lt;emulator&gt;/usr/bin/qemu-kvm&lt;/emulator&gt;
...
    &lt;disk type='block' device='disk'&gt;
      &lt;driver name='qemu' type='raw' cache='none' io='threads' iothread='1'/&gt;
      &lt;source dev='/dev/disk/by-id/dm-uuid-mpath-xxxxx...'/&gt;
      &lt;target dev='vda' bus='virtio'/&gt;
    &lt;/disk&gt;
    &lt;disk type='block' device='disk'&gt;
      &lt;driver name='qemu' type='raw' cache='none' io='threads' iothread='2'/&gt;
      &lt;source dev='/dev/disk/by-id/dm-uuid-mpath-xxxxx-cd5e'/&gt;
      &lt;target dev='vdf' bus='virtio'/&gt;
    &lt;/disk&gt;
    &lt;disk type='block' device='disk'&gt;
      &lt;driver name='qemu' type='raw' cache='none' io='threads' iothread='3'/&gt;
      &lt;source dev='/dev/disk/by-id/dm-uuid-mpath-xxxxx-cd89'/&gt;
      &lt;target dev='vdg' bus='virtio'/&gt;
    &lt;/disk&gt;
    &lt;disk type='block' device='disk'&gt;
      &lt;driver name='qemu' type='raw' cache='none' io='threads' iothread='4'/&gt;
      &lt;source dev='/dev/disk/by-id/dm-uuid-mpath-xxxxx-c9bb'/&gt;
      &lt;target dev='vdh' bus='virtio'/&gt;
    &lt;/disk&gt;
    &lt;disk type='block' device='disk'&gt;
      &lt;driver name='qemu' type='raw' cache='none' io='threads' iothread='5'/&gt;
      &lt;source dev='/dev/disk/by-id/dm-uuid-mpath-xxxxx-c9e5'/&gt;
      &lt;target dev='vdi' bus='virtio'/&gt;
    &lt;/disk&gt;

    &lt;hostdev mode='subsystem' type='pci' managed='yes'&gt;
      &lt;source&gt;
        &lt;address domain='0x0003' bus='0x03' slot='0x00' function='0x0'/&gt;
      &lt;/source&gt;
    &lt;/hostdev&gt;
...
    &lt;memballoon model='virtio'&gt;
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/&gt;
    &lt;/memballoon&gt;
...
    &lt;rng model='virtio'&gt;
      &lt;backend model='random'&gt;/dev/random&lt;/backend&gt;
    &lt;/rng&gt;
  &lt;/devices&gt;
  &lt;qemu:commandline&gt;
    &lt;qemu:arg value='-cpu'/&gt;
    &lt;qemu:arg value='host,migratable=off,+invtsc,l3-cache=on'/&gt;
  &lt;/qemu:commandline&gt;
&lt;/domain&gt;</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-administration.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="sec-additional-information.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Administration </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Additional Information</td></tr></table></div></body></html>
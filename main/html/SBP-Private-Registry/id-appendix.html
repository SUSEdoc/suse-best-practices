<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Appendix</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="SUSE Private Registry Powered by Harbor 2.1" /><link rel="up" href="index.html" title="SUSE Private Registry Powered by Harbor 2.1" /><link rel="prev" href="user-guide.html" title="User Guide" /><link rel="next" href="id-legal-notice.html" title="Legal Notice" /></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="user-guide.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="id-legal-notice.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-appendix"></a>Appendix</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-glossary"></a>Glossary</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">AKS</span></dt><dd><p>Azure Kubernetes Service</p></dd><dt><span class="term">ALB</span></dt><dd><p>Azure Load Balancer OR Amazon Application Load Balancer</p></dd><dt><span class="term">EKS</span></dt><dd><p>Amazon Elastic Kubernetes Service</p></dd><dt><span class="term">PVC</span></dt><dd><p>Persistent Volume Claim. Refer to: <a class="link" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#lifecycle-of-a-volume-and-claim" target="_top">https://kubernetes.io/docs/concepts/storage/persistent-volumes/#lifecycle-of-a-volume-and-claim</a></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-limitations"></a>Limitations</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Once an authentication method is chosen and a user other than admin is added, the authentication method can not be changed without deploying a completely fresh registry.</p></li><li class="listitem"><p>High availability and scalability are not available for the internal redis and database components. Use external database and redis services to compensate this limitation.</p></li><li class="listitem"><p>Internal TLS can be enabled to secure internal connections between the SUSE Private Registry components.
This doesn’t currently cover the internal database and internal redis components.</p></li><li class="listitem"><p>Securing connections to the external Redis with TLS/SSL is currently not supported.</p></li><li class="listitem"><p>Accuracy of the Image scanning using <code class="literal">Trivy</code> might be limited.</p></li><li class="listitem"><p>GPG signing for OCI artifacts is currently not supported. The only method for signing OCI artifacts is TUF (The Update Framework), provided by the <code class="literal">Notary</code> component.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-supported-deployment-scenarios"></a>Supported Deployment Scenarios</h3></div></div></div><p>For an exhaustive list of Helm chart deployment options, please consult the documentation included in the helm chart, by running e.g.:</p><pre class="screen">export HELM_EXPERIMENTAL_OCI=1
# download the chart from public registry
helm chart pull registry.suse.com/harbor/harbor:1.5
# export the chart to local directory
helm chart export registry.suse.com/harbor/harbor:1.5
# show the chart information
helm show readme harbor</pre><p>The following table lists the Helm chart deployment options officially supported by the SUSE Private Registry 2.1 release.</p><div class="table"><a id="supported-deployment"></a><p class="title"><strong>Table 1. Supported deployment options</strong></p><div class="table-contents"><table class="table" summary="Supported deployment options" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="center" valign="top">Deployment Option</th><th align="center" valign="top">Values Supported by Harbor</th><th align="center" valign="top">Supported by SUSE Private Registry?</th><th align="center" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Deployment tool</p></td><td align="left" valign="top"><p>Helm chart (helm v3)</p></td><td align="center" valign="top"><p>✅</p></td><td align="left" valign="top"> </td></tr><tr><td rowspan="6" align="left" valign="top"><p>K8s distribution</p></td><td align="left" valign="top"><p>SUSE CaaS Platform v4.2</p></td><td align="center" valign="top"><p>❌</p></td><td rowspan="6" align="left" valign="top"><p>Supported Kubernetes distributions on top of which the registry can be deployed as a helm chart.</p></td></tr><tr><td align="left" valign="top"><p>SUSE CaaS Platform v4.5</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>AKS (Azure K8s Services)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>EKS (Amazon)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>K3s (Rancher)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>RKE2 (Rancher)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="3" align="left" valign="top"><p>Registry Image / Chart Storage Backend</p></td><td align="left" valign="top"><p>Filesystem</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="3" align="left" valign="top"><p>Back-ends supported for storing registry objects such as container images and helm charts.</p></td></tr><tr><td align="left" valign="top"><p>Azure Blob Storage</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>AWS/S3</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="4" align="left" valign="top"><p>Frontend</p></td><td align="left" valign="top"><p>Ingress</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="4" align="left" valign="top"><p>Options available for exposing the Harbor public APIs (UI, harbor core API and notary API).</p></td></tr><tr><td align="left" valign="top"><p>LoadBalancer</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>NodePort</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>ClusterIP</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td rowspan="4" align="left" valign="top"><p>Ingress controllers</p></td><td align="left" valign="top"><p>SUSE NGINX Ingress Controller (SUSE CaaS Platform v4.5)</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="4" align="left" valign="top"><p>Ingress controllers for providing ingresses to expose services.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="https://github.com/kubernetes/ingress-nginx" target="_top">Kubernetes ingress nginx</a> (AKS, EKS)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html" target="_top">EKS ALB</a></p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="https://rancher.com/docs/k3s/latest/en/networking/#traefik-ingress-controller" target="_top">Traefik Ingress Controller</a> (K3s)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>TLS</p></td><td align="left" valign="top"><p>External TLS</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>TLS can be enabled for securing the connection between the harbor services (internal) as well as between its consumers (external). The certificates can be generated by the helm chart or provided in advance.</p></td></tr><tr><td align="left" valign="top"><p>Internal TLS</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Database service</p></td><td align="left" valign="top"><p>Builtin</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>Database used by Harbor. Can be deployed internally by the Harbor helm chart or can be configured to consume an external database.</p></td></tr><tr><td align="left" valign="top"><p>External</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>External database service</p></td><td align="left" valign="top"><p>Amazon RDS/PostgreSQL</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>Managed postgresql database services that can be configured as an external database service for Harbor.</p></td></tr><tr><td align="left" valign="top"><p>Azure Database for PostgreSQL</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Redis service</p></td><td align="left" valign="top"><p>Builtin</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>In-memory cache used by Harbor. Can be deployed internally by the Harbor helm chart or can be configured to consume an external redis service.</p></td></tr><tr><td align="left" valign="top"><p>External</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="3" align="left" valign="top"><p>External redis service</p></td><td align="left" valign="top"><p>Amazon ElastiCache for Redis</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="3" align="left" valign="top"><p>Managed redis cache services that can be configured as an external redis service for Harbor.</p></td></tr><tr><td align="left" valign="top"><p>Azure Cache for Redis</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>SUSE redis-ha operator</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Persistent Block Storage</p></td><td align="left" valign="top"><p>Enabled</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>Persistent storage can be enabled/disabled for the harbor stateful services:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Database (internal)</p></li><li class="listitem"><p>Redis (internal)</p></li><li class="listitem"><p>Registry (when using the filesystem backend)</p></li><li class="listitem"><p>Jobservice</p></li><li class="listitem"><p>Trivy</p></li></ul></div>
<p>The registry can be deployed without persistent storage, e.g. for evaluation purposes, but this deployment option is not supported.</p></td></tr><tr><td align="left" valign="top"><p>Disabled</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td rowspan="5" align="left" valign="top"><p>Persistent Block Storage Backends</p></td><td align="left" valign="top"><p>Azure Managed Disks (RWO)</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="5" align="left" valign="top"><p>Kubernetes storage backend used to provide persistent storage support.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>A Kubernetes storage class with RWM (<code class="literal">ReadWriteMany</code>) capabilities is required to deploy SUSE Private Registry in full HA mode.
Alternatively, a storage class with RWO (<code class="literal">ReadWriteOnce</code>) capabilities can be used to deploy the SUSE Private Registry with partial HA.
Refer to <a class="xref" href="high-availability.html" title="High Availability">the section called “High Availability”</a> for more details.</p></div>
<p>† for Kubernetes storage classes supported for SUSE CaaS Platform v4.5, consult the relevant documentation at: <a class="link" href="https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_storage.html" target="_top">https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_storage.html</a></p></td></tr><tr><td align="left" valign="top"><p>Azure Files (RWM)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Amazon EBS (RWO)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Amazon EFS (RWM)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>SUSE CaaS Platform v4.5 supported storage backends †</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Update Strategy</p></td><td align="left" valign="top"><p>RollingUpdate</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>Registry configuration update and upgrade strategy, delivered via Helm:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">RollingUpdate</code>: Ensures overall minimal service downtime during a <code class="literal">helm upgrade</code> operation by activating the rolling update feature for all registry components that support it.
This requires a Kubernetes storage class with RWM (<code class="literal">ReadWriteMany</code>) support to be used for registry services that need shared persistent storage (jobservice and docker-registry).</p></li><li class="listitem"><p><code class="literal">Recreate</code>: Use this strategy when a Kubernetes storage class with RWM (<code class="literal">ReadWriteMany</code>) support isn’t available.
It selectively disables the rolling update feature for registry components that need shared persistent storage (jobservice and docker-registry), resulting in increased service downtime during configuration update and upgrade operations.</p></li></ul></div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>The possibility to use <code class="literal">RollingUpdate</code> strategy depends on the Persistent Volume configuration.
If the persistent volumes do not support ReadWriteMany access, using the <code class="literal">RollingUpdate</code> strategy will result in failure.</p></div></td></tr><tr><td align="left" valign="top"><p>Recreate</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Proxy</p></td><td align="left" valign="top"><p>Disabled</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="2" align="left" valign="top"><p>A proxy can be configured for replicating artifacts from/to the registries that cannot be reached directly</p></td></tr><tr><td align="left" valign="top"><p>Enabled</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td rowspan="4" align="left" valign="top"><p>High Availability for Stateless components</p></td><td align="left" valign="top"><p>portal</p></td><td align="center" valign="top"><p>✅</p></td><td rowspan="9" align="left" valign="top"><p>To achieve true HA, the number of replicas for each component needs to be set to 2 or more.
This can easily be done for stateless components, however for some stateful components (jobservice and docker-registry), a persistent block storage backend that supports the <code class="literal">ReadWriteMany</code> access mode is needed to provide shared persistent storage.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>HA for the internal database and internal redis is not supported by Harbor.
External database and redis services with HA support should be use to complement the HA features supported for the other components.</p></div></td></tr><tr><td align="left" valign="top"><p>core</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>nginx</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>notary</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="5" align="left" valign="top"><p>High Availability for Stateful components</p></td><td align="left" valign="top"><p>docker-registry</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>jobservice</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>trivy</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>internal database</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>internal redis</p></td><td align="center" valign="top"><p>❌</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-supported-features"></a>Supported Features</h3></div></div></div><div class="table"><a id="supported-features"></a><p class="title"><strong>Table 2. Supported Features</strong></p><div class="table-contents"><table class="table" summary="Supported Features" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /></colgroup><thead><tr><th align="left" valign="top">Harbor Feature</th><th align="left" valign="top">Description</th><th align="left" valign="top">Feature Specifics</th><th align="left" valign="top">Notes</th><th align="left" valign="top">Supported by SUSE Private Registry</th></tr></thead><tbody><tr><td rowspan="14" align="left" valign="middle"><p>User Authentication &amp; Authorization</p></td><td rowspan="4" align="left" valign="middle"><p>Supported backends for user authentication and authorization.</p></td><td align="left" valign="top"><p>Database</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>LDAP</p></td><td rowspan="3" align="left" valign="top"><p>To change the authentication mode from database to LDAP, OIDC or UAA no local users should be registered to the database.
If there is at least one user other than <code class="literal">admin</code> in the Harbor database, it is not possible to change the authentication mode.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>OIDC</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>UAA</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="7" align="left" valign="middle"><p>Access to resources are controlled using RBAC where the following roles can applied to users</p></td><td align="left" valign="top"><p>Limited Guest</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Can pull images but cannot push</p></li><li class="listitem"><p>Cannot see logs or the other members of a project</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Guest</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Can pull and retag images, but cannot push</p></li><li class="listitem"><p>Read-only privilege for a specified project</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Developer</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Read and write privileges for a project</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Master</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Same as Developer plus can scan images, view replications jobs, and delete images and helm charts</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>ProjectAdmin</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Same as Master plus some management privileges, such as adding and removing members</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>System Admin</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Same as ProjectAdmin plus can also list all projects, set an ordinary user as administrator, delete users and set vulnerability scan policy for all images</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Anonymous</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Has no access to private projects</p></li><li class="listitem"><p>Has read-only access to public projects</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="3" align="left" valign="top"><p>A project contains all repositories of an application. Images cannot be pushed to Harbor before a project is created. RBAC is applied to projects, so that only users with the appropriate roles can perform certain operations.</p></td><td align="left" valign="top"><p>Public</p></td><td align="left" valign="top"><p>Any user can pull images from this project. This is a convenient way for a user to share repositories with others.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Private</p></td><td align="left" valign="top"><p>Only users who are members of the project can pull images</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Quota</p></td><td align="left" valign="top"><p>Quotas are applied on projects to limit the amount of storage capacity that a project can consume.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Logging</p></td><td align="left" valign="top"><p>Registry events such as pushing and deleting images are logged and available for querying by an ordinary user (project level) and an admin user (system level)</p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>Logs can be filtered by:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Push only</p></li><li class="listitem"><p>Pull only</p></li><li class="listitem"><p>Pull and push</p></li><li class="listitem"><p>Delete only</p></li><li class="listitem"><p>All</p></li><li class="listitem"><p>Push and delete</p></li><li class="listitem"><p>Different date ranges</p></li><li class="listitem"><p>Date range and push</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Labels</p></td><td rowspan="2" align="left" valign="top"><p>Labels can be created on different levels and assigned to images. Can be used for filtering</p></td><td align="left" valign="top"><p>global</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>System admin can create/edit/delete</p></li><li class="listitem"><p>Available for all projects</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>project</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Project admin can create/edit/delete</p></li><li class="listitem"><p>Available for a specific project</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="12" align="left" valign="middle"><p>OCI Compliant Registry</p></td><td rowspan="8" align="left" valign="middle"><p>The registry must support versioning, storing and distributing the following contents</p></td><td align="left" valign="top"><p>Multi-architecture images</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Requires experimental features enabled on the Docker client</p></li><li class="listitem"><p>Multi-arch images are created using the manifests feature</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Container images</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Helm charts</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>helm 2</p></li></ul></div></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>helm 3</p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Cloud Native Application Bundles</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>CNAB is composed by a set of images and a manifest.</p></li><li class="listitem"><p>The registry must be able to understand how to present a CNAB</p></li><li class="listitem"><p><a class="link" href="https://github.com/cnabio/cnab-to-oci" target="_top">cnab-to-oci</a></p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Artifacts</p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A single or multiple files can be pushed/pulled to/from the registry</p></li><li class="listitem"><p><a class="link" href="https://github.com/deislabs/oras" target="_top">oras</a></p></li></ul></div></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Tags</p></td><td align="left" valign="top"><p>Convey useful information about a specific image or chart version/variant.
They are aliases to the ID of an image.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Repository</p></td><td align="left" valign="top"><p>A repository can hold many objects (stored as tags)</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="4" align="left" valign="top"><p>Any client that is able to consume the OCI API can interact with the registry</p></td><td align="left" valign="top"><p>Docker</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Podman/CRIO</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>Helm 2</p></td><td align="left" valign="top"><p>Helm 2 is not OCI compatible.</p></td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>Helm 3</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="3" align="left" valign="top"><p>Replication</p></td><td rowspan="3" align="left" valign="top"><p>Replication allows users to replicate resources (e.g. images and charts) between Harbor and non-Harbor registries, in both pull or push mode.</p></td><td align="left" valign="top"><p>SUSE Registry</p></td><td align="left" valign="top"><p><a class="link" href="https:registry.suse.com" target="_top">https:registry.suse.com</a></p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Docker Hub</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Docker Registry</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Content Trust</p></td><td rowspan="2" align="left" valign="top"><p>The registry must provide the ability to use digital signatures to allow client-side or runtime verification of the integrity and publisher of specific images.</p></td><td align="left" valign="top"><p>Signed Images</p></td><td align="left" valign="top"><p>Publishers can sign their images and image consumers can ensure that the images they pull are signed</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Project Level Trust</p></td><td align="left" valign="top"><p>Projects with content trust enable does not allow pulling unsigned images</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="3" align="left" valign="top"><p>Image Vulnerability Scanning</p></td><td rowspan="2" align="left" valign="top"><p>Provides static analysis of vulnerabilities in images through the following open source projects or other compatible scanners (<a class="link" href="https://github.com/anchore/harbor-scanner-adapter" target="_top">Anchore</a>, <a class="link" href="https://github.com/aquasecurity/harbor-scanner-aqua" target="_top">CSP</a>, <a class="link" href="https://github.com/dosec-cn/harbor-scanner/blob/master/README_en.md" target="_top">DoSec</a>)</p></td><td align="left" valign="top"><p>Trivy</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Clair</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>❌</p></td></tr><tr><td align="left" valign="top"><p>Artifacts subject to a CVE might not be permitted to run. CVEs whitelists enable the scanner to ignore those CVEs</p></td><td align="left" valign="top"><p>CVE Whitelists</p></td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Garbage Collection</p></td><td align="left" valign="top"><p>Deleted images does not automatically free up space. Garbage collection must be executed to free up space by removing blobs that are no longer referenced by a manifest from the file system</p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>While it is running Harbor goes into read-only mode. All modifications to the registry are prohibited.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Tag Policies</p></td><td rowspan="2" align="left" valign="top"><p>As a Harbor system administrator, it is possible to define rules that govern how many artifacts of a given repository to retain, or for how long to retain certain artifacts.</p>
<p>Harbor also allows the creation of tag immutability rules at the project level, so that artifacts with certain tags cannot be pushed into Harbor if their tags match existing tags</p></td><td align="left" valign="top"><p>Retention</p></td><td align="left" valign="top"><p>Rules that govern how many artifacts of a given repository to retain, or for how long to retain certain artifacts.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Immutability</p></td><td align="left" valign="top"><p>Artifacts with certain tags cannot be pushed into Harbor if their tags match existing tags. This prevents existing artifacts from being overwritten.
Tag immutability guarantees that an immutable tagged artifact cannot be deleted, and also cannot be altered in any way such as through re-pushing, re-tagging, or replication from another target registry.</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>Robot Accounts</p></td><td align="left" valign="top"><p>Robot accounts can be used to run automated operations.
Robot accounts have the following limitations:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Robot accounts cannot log in to the Harbor interface.</p></li><li class="listitem"><p>Robot accounts can only perform operations by using the Docker and Helm CLIs.</p></li></ul></div></td><td align="left" valign="top"> </td><td align="left" valign="top"> </td><td align="center" valign="top"><p>✅</p></td></tr><tr><td rowspan="2" align="left" valign="top"><p>Webhooks</p></td><td rowspan="2" align="left" valign="top"><p>Webhooks allows the integration of Harbor with other tools to streamline continuous integration and development processes by sending notifications based on certain events that occur in the project</p></td><td align="left" valign="top"><p>HTTP</p></td><td rowspan="2" align="left" valign="top"><p>Webhook notifications provide information about events in JSON format and are delivered by HTTP or HTTPS POST</p></td><td align="center" valign="top"><p>✅</p></td></tr><tr><td align="left" valign="top"><p>SLACK</p></td><td align="center" valign="top"><p>✅</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-authors"></a>Authors</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Boris Bobrov, System Engineer, SUSE</p></li><li class="listitem"><p>Christian Almeida de Oliveira, System Engineer, SUSE</p></li><li class="listitem"><p>Dirk Müller, Distinguished Engineer, SUSE</p></li><li class="listitem"><p>Markus Napp, Senior Technical Writer SUSE CaaS Platform, SUSE</p></li><li class="listitem"><p>Stefan Nica, System Engineer, SUSE</p></li><li class="listitem"><p>Flávio Ramalho, System Engineer, SUSE</p></li><li class="listitem"><p>Robert Simai, Engineering Manager, SUSE</p></li><li class="listitem"><p>Jiří Suchomel, SUSE OpenStack Cloud Engineer, SUSE</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="user-guide.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="id-legal-notice.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">User Guide </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Legal Notice</td></tr></table></div></body></html>
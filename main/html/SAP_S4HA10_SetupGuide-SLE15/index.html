<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><meta name="description" content="SUSE® Linux Enterprise Server for SAP Applications is optimized in various ways for SAP* applications. This document explains how to deploy an S/4 HANA Enqueue Replication 2 High Availability Cluster solution. It is based on SUSE Linux Enterprise Server for SAP Applications 15. The concept however can also be used with newer service packs of SUSE Linux Enterprise Server for SAP Applications. Disclaimer: Documents published as part of the SUSE Best Practices series have been contributed voluntarily by SUSE employees and third parties. They are meant to serve as examples of how particular actions can be performed. They have been compiled with utmost attention to detail. However, this does not guarantee complete accuracy. SUSE cannot verify that actions described in these documents do what is claimed or whether actions described have unintended consequences. SUSE LLC, its affiliates, the authors, and the translators may not be held liable for possible errors or the consequences thereof." /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide" /><link rel="next" href="id-scope-of-this-document.html" title="Scope of This Document" /></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="id-scope-of-this-document.html">Next</a></td></tr></table><hr /></div><div xml:lang="en" class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="id1337"></a>SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Fabian</span> <span class="surname">Herschel, Distinguished Architect SAP, SUSE</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Bernd</span> <span class="surname">Schubert, SAP Solution Architect, SUSE</span></h3></div></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><p>SUSE® Linux Enterprise Server for SAP Applications is
		optimized in various ways for SAP* applications.
		This document explains how to deploy an S/4
		HANA Enqueue Replication 2 High Availability Cluster solution.
		It is based on SUSE Linux Enterprise Server for SAP Applications 15. The concept however can also be used with
		newer service packs of SUSE Linux Enterprise Server for SAP Applications.
	</p><p><span class="strong"><strong>Disclaimer: </strong></span>
        Documents published as part of the SUSE Best Practices series have been contributed voluntarily
        by SUSE employees and third parties. They are meant to serve as examples of how particular
        actions can be performed. They have been compiled with utmost attention to detail.
        However, this does not guarantee complete accuracy. SUSE cannot verify that actions described
        in these documents do what is claimed or whether actions described have unintended consequences.
        SUSE LLC, its affiliates, the authors, and the translators may not be held liable for possible errors
        or the consequences thereof.</p></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="index.html#id-about-this-guide">About This Guide</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#id-introduction">Introduction</a></span></dt><dt><span class="section"><a href="index.html#sec.resource">Additional Documentation and Resources</a></span></dt><dt><span class="section"><a href="index.html#id-errata">Errata</a></span></dt><dt><span class="section"><a href="index.html#id-feedback">Feedback</a></span></dt></dl></dd><dt><span class="section"><a href="id-scope-of-this-document.html">Scope of This Document</a></span></dt><dt><span class="section"><a href="id-overview.html">Overview</a></span></dt><dd><dl><dt><span class="section"><a href="id-overview.html#id-differences-to-previous-cluster-architectures">Differences to Previous Cluster Architectures</a></span></dt><dt><span class="section"><a href="id-overview.html#id-three-systems-or-more-for-ascs-ers-database-and-additional-sap-instances">Three Systems or More for ASCS, ERS, Database and Additional SAP Instances</a></span></dt><dt><span class="section"><a href="id-overview.html#id-high-availability-for-the-database">High Availability for the Database</a></span></dt><dt><span class="section"><a href="id-overview.html#id-integration-of-sap-s4hana-into-the-cluster-using-the-cluster-connector">Integration of SAP S/4HANA into the Cluster Using the Cluster Connector</a></span></dt><dt><span class="section"><a href="id-overview.html#id-disks-and-partitions">Disks and Partitions</a></span></dt><dt><span class="section"><a href="id-overview.html#id-ip-addresses-and-virtual-names">IP Addresses and Virtual Names</a></span></dt><dt><span class="section"><a href="id-overview.html#id-mount-points-and-nfs-shares">Mount Points and NFS Shares</a></span></dt></dl></dd><dt><span class="section"><a href="id-sap-installation.html">SAP Installation</a></span></dt><dd><dl><dt><span class="section"><a href="id-sap-installation.html#id-linux-user-and-group-number-scheme">Linux User and Group Number Scheme</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-installing-ascs-on-valuga11">Installing ASCS on valuga11</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-installing-ers-on-valuga12">Installing ERS on valuga12</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-subsequent-steps-for-ascs-and-ers">Subsequent Steps for ASCS and ERS</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-installing-database-on-valuga01">Installing Database on valuga01</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-install-the-primary-application-server-pas-on-valuga01">Install the Primary Application Server (PAS) on valuga01</a></span></dt><dt><span class="section"><a href="id-sap-installation.html#id-installing-an-additional-application-server-aas-on-valuga01">Installing an Additional Application Server (AAS) on valuga01</a></span></dt></dl></dd><dt><span class="section"><a href="id-implementing-the-cluster.html">Implementing the Cluster</a></span></dt><dd><dl><dt><span class="section"><a href="id-implementing-the-cluster.html#id-os-preparation-and-cluster-software-installation">OS Preparation and Cluster Software Installation</a></span></dt><dt><span class="section"><a href="id-implementing-the-cluster.html#id-configuring-the-cluster-base">Configuring the Cluster Base</a></span></dt><dt><span class="section"><a href="id-implementing-the-cluster.html#id-configuring-cluster-resources">Configuring Cluster Resources</a></span></dt></dl></dd><dt><span class="section"><a href="id-administration.html">Administration</a></span></dt><dd><dl><dt><span class="section"><a href="id-administration.html#id-dos-and-donts">Dos and Don’ts</a></span></dt><dt><span class="section"><a href="id-administration.html#id-testing-the-cluster">Testing the Cluster</a></span></dt></dl></dd><dt><span class="section"><a href="multicluster.html">Multi-Node Cluster Setups for an SAP S/4HANA</a></span></dt><dd><dl><dt><span class="section"><a href="multicluster.html#id-extend-an-existing-two-node-cluster-configuration">Extend An Existing Two Node Cluster Configuration</a></span></dt><dt><span class="section"><a href="multicluster.html#id-pros-and-cons-for-odd-and-even-numbers-of-cluster-nodes">Pro’s and Con’s for Odd and Even Numbers of Cluster Nodes</a></span></dt></dl></dd><dt><span class="section"><a href="id-references.html">References</a></span></dt><dd><dl><dt><span class="section"><a href="id-references.html#id-pacemaker">Pacemaker</a></span></dt><dt><span class="section"><a href="id-references.html#id-related-suse-tid">Related SUSE TID</a></span></dt><dt><span class="section"><a href="id-references.html#id-related-sap-notes">Related SAP Notes</a></span></dt></dl></dd><dt><span class="section"><a href="id-appendix.html">Appendix</a></span></dt><dd><dl><dt><span class="section"><a href="id-appendix.html#id-crm-configuration">CRM Configuration</a></span></dt><dt><span class="section"><a href="id-appendix.html#id-corosync-configuration-of-the-two-node-cluster">Corosync Configuration of the Two Node Cluster</a></span></dt><dt><span class="section"><a href="id-appendix.html#id-corosync-configuration-of-the-multi-node-cluster">Corosync Configuration of the multi Node Cluster</a></span></dt></dl></dd><dt><span class="section"><a href="id-legal-notice.html">Legal Notice</a></span></dt><dd><dl><dt><span class="section"><a href="id-legal-notice.html#id-gnu-free-documentation-license">GNU Free Documentation License</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-about-this-guide"></a>About This Guide</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-introduction"></a>Introduction</h3></div></div></div><p>SUSE® Linux Enterprise Server for SAP Applications is the optimal platform to
run SAP* applications with high availability. Together with a redundant layout
of the technical infrastructure, single points of failure can be eliminated.</p><p>SAP* Business Suite is a sophisticated application platform for large enterprises
and mid-size companies. Many critical business environments require the highest
possible SAP* application availability.</p><p>The described cluster solution can be used for SAP* SAP S/4HANA ABAP Platform.</p><p>SAP S/4HANA ABAP Platform is a common stack of middleware functionality used to support SAP
business applications. The SAP Enqueue Replication Server 2 constitutes application
level redundancy for one of the most crucial components of the SAP S/4HANA ABAP Platform stack,
the enqueue service. An optimal effect of the enqueue replication mechanism can
be achieved when combining the application level redundancy with a high
availability cluster solution, as provided for example by SUSE Linux Enterprise Server for SAP Applications. Over several
years of productive operations, the components mentioned have proven their maturity
for customers of different sizes and industries.</p><p>The here described HA setup is based on cluster-controlled filesystems for the
SAP central services working directories.
This setup with cluster-controlled filesystem resources has been used in former
HA certifications. It still is supported.
For deploying new HA clusters we recommend using the so called simple-mount setup,
described in
"SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster With Simple Mount - Setup Guide"
(<a class="link" href="https://documentation.suse.com/sbp/all/html/SAP_S4HA10_SetupGuide_SimpleMount-SLE15" target="_top">https://documentation.suse.com/sbp/all/html/SAP_S4HA10_SetupGuide_SimpleMount-SLE15</a>).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec.resource"></a>Additional Documentation and Resources</h3></div></div></div><p>Several chapters in this document contain links to additional documentation resources that
are either available on the system or on the Internet.</p><p>For the latest product documentation updates, see <a class="link" href="https://documentation.suse.com/" target="_top">https://documentation.suse.com/</a>.</p><p>More whitepapers, guides and best practices documents referring to SUSE Linux Enterprise Server and SAP can be
found and downloaded at the SUSE Best Practices Web page:</p><p><a class="link" href="https://documentation.suse.com/sbp/sap/" target="_top">https://documentation.suse.com/sbp/sap/</a></p><p>Here you can access guides for SAP HANA system replication
automation and High Availability (HA) scenarios for SAP NetWeaver and SAP S/4HANA.</p><p>Additional resources, such as customer references, brochures or flyers, can be found at the SUSE Linux
Enterprise Server for SAP Applications resource library:</p><p><a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_top">https://www.suse.com/products/sles-for-sap/resource-library/</a>.</p><p>Last but not least, there are manual pages shipped with the product.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-errata"></a>Errata</h3></div></div></div><p>To deliver urgent smaller fixes and important information in a timely manner, the Technical Information Document (TID) for this document
will be updated, maintained and published at a higher frequency:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SAP S/4 HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide - Errata
(<a class="link" href="https://www.suse.com/support/kb/doc/?id=7023714" target="_top">https://www.suse.com/support/kb/doc/?id=7023714</a>)</p></li><li class="listitem"><p>In addition to this guide, check the SUSE SAP Best Practice Guide Errata for other solutions
(<a class="link" href="https://www.suse.com/support/kb/doc/?id=7023713" target="_top">https://www.suse.com/support/kb/doc/?id=7023713</a>).</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id-feedback"></a>Feedback</h3></div></div></div><p>Several feedback channels are available:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Bugs and Enhancement Requests</span></dt><dd><p>For services and support options available for your product, refer to <a class="link" href="http://www.suse.com/support/" target="_top">http://www.suse.com/support/</a>.</p></dd></dl></div><p>To report bugs for a product component, go to <a class="link" href="https://scc.suse.com/support/" target="_top">https://scc.suse.com/support/</a> requests, log in, and select <span class="emphasis"><em>Submit New SR</em></span> (Service Request).</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Mail</span></dt><dd><p>For feedback on the documentation of this product, you can send a mail to <a class="link" href="mailto:doc-team@suse.com" target="_top">doc-team@suse.com</a>. Make sure to include the document title, the product version and the publication date of the documentation. To report errors or suggest enhancements, provide a concise description of the problem and refer to the respective section number and page (or URL).</p></dd></dl></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="id-scope-of-this-document.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> Scope of This Document</td></tr></table></div></body></html>